!!! Strict
%html
  %head
    %title Примеры кадрирования
    %script{:src => "http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js", :type => "text/javascript"}
    %script{:src => "https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js", :type => "text/javascript"}
    %script{:src => "js/jquery.cropbox.js", :type => "text/javascript"}
    %link{:rel => "stylesheet", :type => "text/css", :href => "css/style.css"}
    %link{:rel => "stylesheet", :type => "text/css", :href => "css/crop-box.css"}
  %body

  :javascript

    $(function(){

      $('.b-preview').on('success', function(e, url){

        if ( $('#cropped-img').length ) $('#cropped-img').remove();
        $('<img/>', {
          id: 'cropped-img',
          src: url,
          css: {
            position: 'absolute',
            right: 20,
            bottom: 20
          }
        }).appendTo('body');


      });

    });

  %h1 Примеры работы со скриптом

  .b-preview.b-preview_one{"data-crop" => "img/sharapova.jpeg", "data-size" => "300x350", "data-size-preview" => "450x600", "data-aspect" => '.5'}

  .b-preview.b-preview_two{"data-crop" => "img/navalny.png", "data-size" => "200x300", "data-size-preview" => "273x341"}

  .b-preview.b-preview_three{"data-crop" => "img/putin.jpeg", "data-size" => "130x130", "data-size-preview" => "300x200"}

